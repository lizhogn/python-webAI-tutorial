# 1.1 HTTP åè®®åŸºç¡€

## ğŸ“– æ¦‚è¿°

HTTPï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ Web å¼€å‘çš„åŸºç¡€åè®®ã€‚ç†è§£ HTTP åè®®å¯¹äºæ„å»º Web åº”ç”¨è‡³å…³é‡è¦ã€‚

## ğŸŒ HTTP åè®®ç®€ä»‹

HTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›å“åº”ã€‚

### ä¸»è¦ç‰¹ç‚¹

- **æ— çŠ¶æ€**ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸ä¿å­˜å®¢æˆ·ç«¯çŠ¶æ€
- **è¯·æ±‚-å“åº”æ¨¡å¼**ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›å“åº”
- **å¯æ‰©å±•**ï¼šé€šè¿‡å¤´éƒ¨å­—æ®µå¯ä»¥æ‰©å±•åŠŸèƒ½
- **ç®€å•**ï¼šäººç±»å¯è¯»çš„æ¶ˆæ¯æ ¼å¼

## ğŸ“¤ è¯·æ±‚å’Œå“åº”

### HTTP è¯·æ±‚ç»“æ„

```
GET /api/users HTTP/1.1
Host: api.example.com
User-Agent: Mozilla/5.0
Accept: application/json
Content-Type: application/json

{"name": "å¼ ä¸‰", "email": "zhangsan@example.com"}
```

### HTTP å“åº”ç»“æ„

```
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 123
Date: Mon, 23 May 2023 22:38:34 GMT

{
  "id": 1,
  "name": "å¼ ä¸‰",
  "email": "zhangsan@example.com",
  "created_at": "2023-05-23T22:38:34Z"
}
```

## ğŸ”¢ çŠ¶æ€ç å’Œå¤´éƒ¨

### å¸¸è§çŠ¶æ€ç 

| çŠ¶æ€ç  | ç±»åˆ« | è¯´æ˜ |
|--------|------|------|
| 200 | æˆåŠŸ | è¯·æ±‚æˆåŠŸ |
| 201 | æˆåŠŸ | åˆ›å»ºæˆåŠŸ |
| 400 | å®¢æˆ·ç«¯é”™è¯¯ | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | å®¢æˆ·ç«¯é”™è¯¯ | æœªæˆæƒ |
| 403 | å®¢æˆ·ç«¯é”™è¯¯ | ç¦æ­¢è®¿é—® |
| 404 | å®¢æˆ·ç«¯é”™è¯¯ | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨é”™è¯¯ | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### é‡è¦å¤´éƒ¨å­—æ®µ

#### è¯·æ±‚å¤´éƒ¨
- `Host`: æœåŠ¡å™¨åŸŸå
- `User-Agent`: å®¢æˆ·ç«¯ä¿¡æ¯
- `Accept`: æ¥å—çš„å“åº”ç±»å‹
- `Content-Type`: è¯·æ±‚ä½“ç±»å‹
- `Authorization`: è®¤è¯ä¿¡æ¯

#### å“åº”å¤´éƒ¨
- `Content-Type`: å“åº”ä½“ç±»å‹
- `Content-Length`: å“åº”ä½“é•¿åº¦
- `Set-Cookie`: è®¾ç½® Cookie
- `Cache-Control`: ç¼“å­˜æ§åˆ¶

## ğŸ—ï¸ RESTful API è®¾è®¡

RESTï¼ˆRepresentational State Transferï¼‰æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç”¨äºè®¾è®¡ç½‘ç»œåº”ç”¨ç¨‹åºçš„ APIã€‚

### REST åŸåˆ™

1. **æ— çŠ¶æ€**ï¼šæ¯ä¸ªè¯·æ±‚åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯
2. **ç»Ÿä¸€æ¥å£**ï¼šä½¿ç”¨æ ‡å‡† HTTP æ–¹æ³•
3. **èµ„æºå¯¼å‘**ï¼šAPI å›´ç»•èµ„æºè®¾è®¡
4. **å¯ç¼“å­˜**ï¼šå“åº”å¯ä»¥è¢«ç¼“å­˜
5. **åˆ†å±‚ç³»ç»Ÿ**ï¼šæ”¯æŒä»£ç†ã€ç½‘å…³ç­‰ä¸­é—´å±‚

### HTTP æ–¹æ³•

| æ–¹æ³• | ç”¨é€” | å¹‚ç­‰æ€§ |
|------|------|--------|
| GET | è·å–èµ„æº | âœ… |
| POST | åˆ›å»ºèµ„æº | âŒ |
| PUT | æ›´æ–°èµ„æº | âœ… |
| PATCH | éƒ¨åˆ†æ›´æ–° | âŒ |
| DELETE | åˆ é™¤èµ„æº | âœ… |

### èµ„æº URL è®¾è®¡

```
# ç”¨æˆ·èµ„æº
GET    /api/users          # è·å–ç”¨æˆ·åˆ—è¡¨
POST   /api/users          # åˆ›å»ºæ–°ç”¨æˆ·
GET    /api/users/{id}     # è·å–ç‰¹å®šç”¨æˆ·
PUT    /api/users/{id}     # æ›´æ–°ç”¨æˆ·
DELETE /api/users/{id}     # åˆ é™¤ç”¨æˆ·

# ç”¨æˆ·æ–‡ç« èµ„æº
GET    /api/users/{id}/posts     # è·å–ç”¨æˆ·çš„æ–‡ç« 
POST   /api/users/{id}/posts     # ä¸ºç”¨æˆ·åˆ›å»ºæ–‡ç« 
```

## ğŸ’» ä»£ç ç¤ºä¾‹

### Python å‘é€ HTTP è¯·æ±‚

```python
import requests

# GET è¯·æ±‚
response = requests.get('https://api.example.com/users')
users = response.json()

# POST è¯·æ±‚
data = {'name': 'å¼ ä¸‰', 'email': 'zhangsan@example.com'}
response = requests.post('https://api.example.com/users', json=data)
new_user = response.json()

# å¸¦è®¤è¯çš„è¯·æ±‚
headers = {'Authorization': 'Bearer your-token'}
response = requests.get('https://api.example.com/profile', headers=headers)
```

### JavaScript å‘é€ HTTP è¯·æ±‚

```javascript
// Fetch API
fetch('https://api.example.com/users')
  .then(response => response.json())
  .then(data => console.log(data));

// POST è¯·æ±‚
fetch('https://api.example.com/users', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'å¼ ä¸‰',
    email: 'zhangsan@example.com'
  })
})
.then(response => response.json())
.then(data => console.log(data));
```

## ğŸ¯ å®è·µç»ƒä¹ 

### ç»ƒä¹  1ï¼šHTTP è¯·æ±‚åˆ†æ

ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æˆ– Postman åˆ†æä»¥ä¸‹è¯·æ±‚ï¼š

1. è®¿é—® GitHub é¦–é¡µ
2. æœç´¢ä¸€ä¸ªä»“åº“
3. æŸ¥çœ‹ä»“åº“è¯¦æƒ…

è®°å½•è¯·æ±‚æ–¹æ³•ã€URLã€çŠ¶æ€ç å’Œå“åº”å†…å®¹ã€‚

### ç»ƒä¹  2ï¼šæ„å»ºç®€å•çš„ HTTP å®¢æˆ·ç«¯

```python
import socket

def send_http_request(host, port, path):
    # åˆ›å»º socket è¿æ¥
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.connect((host, port))
    
    # æ„å»º HTTP è¯·æ±‚
    request = f"GET {path} HTTP/1.1\r\n"
    request += f"Host: {host}\r\n"
    request += "Connection: close\r\n"
    request += "\r\n"
    
    # å‘é€è¯·æ±‚
    sock.send(request.encode())
    
    # æ¥æ”¶å“åº”
    response = b""
    while True:
        data = sock.recv(1024)
        if not data:
            break
        response += data
    
    sock.close()
    return response.decode()

# ä½¿ç”¨ç¤ºä¾‹
response = send_http_request('httpbin.org', 80, '/get')
print(response)
```

## ğŸ“š å­¦ä¹ èµ„æº

- [HTTP åè®®è§„èŒƒ](https://tools.ietf.org/html/rfc7231)
- [MDN HTTP æŒ‡å—](https://developer.mozilla.org/en-US/docs/Web/HTTP)
- [RESTful API è®¾è®¡æŒ‡å—](https://restfulapi.net/)

## ğŸ” çŸ¥è¯†æ£€æŸ¥

å®Œæˆæœ¬èŠ‚å­¦ä¹ åï¼Œè¯·æ£€æŸ¥æ˜¯å¦æŒæ¡ï¼š

- [ ] HTTP åè®®çš„åŸºæœ¬å·¥ä½œåŸç†
- [ ] è¯·æ±‚å’Œå“åº”çš„ç»“æ„
- [ ] å¸¸è§çŠ¶æ€ç çš„å«ä¹‰
- [ ] RESTful API è®¾è®¡åŸåˆ™
- [ ] èƒ½å¤Ÿå‘é€å’Œåˆ†æ HTTP è¯·æ±‚

---

**ä¸Šä¸€èŠ‚**ï¼š[ç¬¬ä¸€ç« ç›®å½•](README.md) | **ä¸‹ä¸€èŠ‚**ï¼š[1.2 Web æ¡†æ¶å…¥é—¨](1.2-web-frameworks.md) 