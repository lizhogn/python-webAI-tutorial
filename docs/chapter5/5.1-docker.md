# 5.1 Docker å®¹å™¨åŒ–

## ğŸ“– æ¦‚è¿°

æœ¬ç« ä»‹ç»å¦‚ä½•ä½¿ç”¨ Docker å®¹å™¨åŒ–éƒ¨ç½² Python Web/AI é¡¹ç›®ï¼Œå®ç°ç¯å¢ƒä¸€è‡´ã€å¿«é€Ÿäº¤ä»˜å’Œå¼¹æ€§æ‰©å±•ã€‚

## ğŸ³ ä»€ä¹ˆæ˜¯ Dockerï¼Ÿ
- ä¸€ç§è½»é‡çº§çš„å®¹å™¨æŠ€æœ¯ï¼Œæ‰“åŒ…åº”ç”¨åŠå…¶ä¾èµ–ï¼Œä¿è¯"åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è·‘"
- æ”¯æŒé•œåƒåˆ†å‘ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€èµ„æºéš”ç¦»

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### 1. å®‰è£… Docker
- [å®˜æ–¹å®‰è£…æ–‡æ¡£](https://docs.docker.com/get-docker/)

### 2. ç¼–å†™ Dockerfile
```dockerfile
# ä»¥ FastAPI é¡¹ç›®ä¸ºä¾‹
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt ./
RUN pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
COPY . .
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### 3. æ„å»ºé•œåƒ
```bash
docker build -t my-fastapi-app .
```

### 4. è¿è¡Œå®¹å™¨
```bash
docker run -d -p 8000:8000 --name fastapi-demo my-fastapi-app
```

## ğŸ—ï¸ å¸¸ç”¨ Docker å‘½ä»¤
- æŸ¥çœ‹å®¹å™¨ï¼š`docker ps -a`
- åœæ­¢/å¯åŠ¨/åˆ é™¤ï¼š`docker stop/start/rm <å®¹å™¨å>`
- æŸ¥çœ‹æ—¥å¿—ï¼š`docker logs <å®¹å™¨å>`
- è¿›å…¥å®¹å™¨ï¼š`docker exec -it <å®¹å™¨å> /bin/bash`

## ğŸ› ï¸ å¤šæœåŠ¡ç¼–æ’ï¼ˆDocker Composeï¼‰

### 1. ç¼–å†™ docker-compose.yml
```yaml
version: '3.8'
services:
  web:
    build: .
    ports:
      - "8000:8000"
    depends_on:
      - redis
  redis:
    image: redis:6
    ports:
      - "6379:6379"
```

### 2. å¯åŠ¨/åœæ­¢
```bash
docker-compose up -d
docker-compose down
```

## ğŸ›¡ï¸ å®¹å™¨å®‰å…¨ä¸ä¼˜åŒ–
- æœ€å°åŒ–åŸºç¡€é•œåƒï¼ˆå¦‚ python:3.9-slimï¼‰
- å¤šé˜¶æ®µæ„å»ºï¼Œå‡å°‘é•œåƒä½“ç§¯
- ä¸åœ¨å®¹å™¨å†…å­˜å‚¨æ•æ„Ÿæ•°æ®
- ä½¿ç”¨ .dockerignore æ’é™¤æ— å…³æ–‡ä»¶

## ğŸ“š å­¦ä¹ èµ„æº
- [Docker å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- [Docker Compose æ–‡æ¡£](https://docs.docker.com/compose/)
- [DockerHub é•œåƒä»“åº“](https://hub.docker.com/)

## ğŸ” çŸ¥è¯†æ£€æŸ¥
- [ ] èƒ½å¤Ÿç¼–å†™ Dockerfile å¹¶æ„å»ºé•œåƒ
- [ ] èƒ½å¤Ÿç”¨ Compose ç®¡ç†å¤šæœåŠ¡
- [ ] ç†è§£å®¹å™¨å®‰å…¨ä¸ä¼˜åŒ–
- [ ] èƒ½å¤Ÿç”¨ Docker éƒ¨ç½² Web/AI é¡¹ç›®

---

**ä¸Šä¸€ç« **ï¼š[ç¬¬å››ç«  AI æ¨¡å‹é›†æˆ](../chapter4/README.md) | **ä¸‹ä¸€èŠ‚**ï¼š[5.2 åå‘ä»£ç†](5.2-nginx.md) 