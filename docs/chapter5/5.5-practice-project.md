# 5.5 å®è·µé¡¹ç›®ï¼šå…¨æµç¨‹éƒ¨ç½²ä¸è¿ç»´

## ğŸ“– é¡¹ç›®ç›®æ ‡

é€šè¿‡æœ¬é¡¹ç›®ï¼Œç»¼åˆè¿ç”¨æœ¬ç« æ‰€å­¦çš„ Dockerã€Nginxã€ç›‘æ§ã€æ—¥å¿—ã€å®‰å…¨ç­‰çŸ¥è¯†ï¼Œå®Œæˆä¸€ä¸ª"AI Web æœåŠ¡çš„ç”Ÿäº§çº§éƒ¨ç½²ä¸è¿ç»´"å®è·µã€‚

## ğŸ—ï¸ é¡¹ç›®éœ€æ±‚
- ä½¿ç”¨ Docker å®¹å™¨åŒ–åç«¯ã€å‰ç«¯ã€æ•°æ®åº“ã€Redis ç­‰æœåŠ¡
- Nginx ç»Ÿä¸€åå‘ä»£ç†ã€SSL ç»ˆç«¯
- Prometheus+Grafana ç›‘æ§ API
- æ—¥å¿—é‡‡é›†ä¸åˆ†æ
- å®‰å…¨åŠ å›ºä¸è‡ªåŠ¨åŒ–è¿ç»´

## ğŸ“¦ æŠ€æœ¯æ ˆ
- Docker & Docker Compose
- Nginx
- Prometheus & Grafana
- ELKï¼ˆå¯é€‰ï¼‰
- FastAPI/Vue.js/PostgreSQL/Redis

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„
```
ai-deploy-demo/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ prometheus/
â”‚   â””â”€â”€ prometheus.yml
â”œâ”€â”€ grafana/
â”‚   â””â”€â”€ ...
â””â”€â”€ README.md
```

## ğŸš€ ä¸»è¦éƒ¨ç½²æ­¥éª¤

### 1. ç¼–å†™ docker-compose.yml
```yaml
version: '3.8'
services:
  backend:
    build: ./backend
    ports: ["8000:8000"]
    depends_on: [db, redis]
  frontend:
    build: ./frontend
    ports: ["3000:80"]
  db:
    image: postgres:13
    environment:
      POSTGRES_PASSWORD: example
  redis:
    image: redis:6
  nginx:
    image: nginx:latest
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
    ports:
      - "80:80"
      - "443:443"
  prometheus:
    image: prom/prometheus
    volumes:
      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml
    ports:
      - "9090:9090"
  grafana:
    image: grafana/grafana
    ports:
      - "3001:3000"
```

### 2. Nginx é…ç½®
```nginx
server {
    listen 80;
    server_name example.com;
    location /api/ {
        proxy_pass http://backend:8000/;
    }
    location / {
        proxy_pass http://frontend:80/;
    }
}
```

### 3. å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

### 4. ç›‘æ§ä¸æ—¥å¿—
- Prometheus é‡‡é›† /metrics
- Grafana å¯¼å…¥ä»ªè¡¨ç›˜
- æ—¥å¿—æŒ‚è½½åˆ°å®¿ä¸»æœºï¼Œç»Ÿä¸€é‡‡é›†

### 5. å®‰å…¨åŠ å›º
- é…ç½® HTTPS/SSL
- ç¯å¢ƒå˜é‡åŠ å¯†
- åªå¼€æ”¾å¿…è¦ç«¯å£
- å®šæœŸæ›´æ–°ä¾èµ–å’Œé•œåƒ

## ğŸ› ï¸ é¡¹ç›®ä¼˜åŒ–å»ºè®®
- è‡ªåŠ¨åŒ– CI/CD éƒ¨ç½²
- ç°åº¦å‘å¸ƒä¸å›æ»š
- èµ„æºé™é¢ä¸å¼¹æ€§ä¼¸ç¼©
- ç›‘æ§å‘Šè­¦è‡ªåŠ¨å“åº”

## ğŸ§ª æµ‹è¯•å»ºè®®
- å®¹å™¨é‡å¯/æ•…éšœæ¢å¤
- è´Ÿè½½å‡è¡¡ä¸é«˜å¹¶å‘
- æ—¥å¿—ä¸ç›‘æ§æ•°æ®å®Œæ•´æ€§
- å®‰å…¨æ‰«æä¸æ¸—é€æµ‹è¯•

## ğŸ“š å­¦ä¹ èµ„æº
- [Docker Compose å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/compose/)
- [Nginx å®˜æ–¹æ–‡æ¡£](https://nginx.org/zh/docs/)
- [Prometheus å®˜æ–¹æ–‡æ¡£](https://prometheus.io/docs/)
- [Grafana å®˜æ–¹æ–‡æ¡£](https://grafana.com/docs/)

## ğŸ” çŸ¥è¯†æ£€æŸ¥
- [ ] èƒ½å¤Ÿç”¨ Compose éƒ¨ç½²å¤šæœåŠ¡
- [ ] èƒ½å¤Ÿé…ç½® Nginx åå‘ä»£ç†å’Œ SSL
- [ ] èƒ½å¤Ÿé›†æˆç›‘æ§ä¸æ—¥å¿—
- [ ] èƒ½å¤Ÿå®ç°å®‰å…¨åŠ å›ºå’Œè‡ªåŠ¨åŒ–è¿ç»´

---

**ä¸Šä¸€èŠ‚**ï¼š[5.4 å®‰å…¨åŠ å›º](5.4-security.md) | **ä¸‹ä¸€ç« **ï¼š[ç¬¬å…­ç«  å®æˆ˜é¡¹ç›®](../chapter6/README.md) 