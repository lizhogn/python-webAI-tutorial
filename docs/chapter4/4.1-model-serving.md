# 4.1 æ¨¡å‹æœåŠ¡åŒ–

## ğŸ“– æ¦‚è¿°

æœ¬ç« ä»‹ç»å¦‚ä½•å°† AI/æœºå™¨å­¦ä¹ æ¨¡å‹éƒ¨ç½²ä¸º Web æœåŠ¡ï¼Œæ”¯æŒåœ¨çº¿æ¨ç†å’Œå‰åç«¯é›†æˆã€‚å†…å®¹æ¶µç›–æ¨¡å‹ä¿å­˜ã€åŠ è½½ã€API å°è£…ã€æ¨ç†æ¥å£è®¾è®¡ç­‰ã€‚

## ğŸ§  ä»€ä¹ˆæ˜¯æ¨¡å‹æœåŠ¡åŒ–ï¼Ÿ
- å°†è®­ç»ƒå¥½çš„æ¨¡å‹ï¼ˆå¦‚ PyTorchã€TensorFlowã€sklearnï¼‰é€šè¿‡ API æä¾›åœ¨çº¿æ¨ç†èƒ½åŠ›
- æ”¯æŒå¤šç«¯è°ƒç”¨ï¼ˆWebã€Appã€ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼‰
- ä¾¿äºæ¨¡å‹è¿­ä»£ã€ç›‘æ§å’Œæ‰©å±•

## ğŸ—ï¸ å¸¸è§æ¨¡å‹æœåŠ¡åŒ–æ–¹æ¡ˆ
- **Flask/FastAPI**ï¼šè½»é‡çº§ï¼Œé€‚åˆå°å‹/åŸå‹é¡¹ç›®
- **TensorFlow Serving**ï¼šå®˜æ–¹é«˜æ€§èƒ½æ¨ç†æœåŠ¡
- **TorchServe**ï¼šPyTorch å®˜æ–¹æ¨ç†æœåŠ¡
- **ONNX Runtime**ï¼šè·¨æ¡†æ¶æ¨ç†
- **è‡ªå®šä¹‰å¾®æœåŠ¡**ï¼šçµæ´»æ‰©å±•

## ğŸš€ FastAPI å°è£…æ¨¡å‹æ¨ç† API

### 1. ä¿å­˜ä¸åŠ è½½æ¨¡å‹
```python
# ä»¥ sklearn ä¸ºä¾‹
import joblib
# ä¿å­˜æ¨¡å‹
joblib.dump(model, 'model.pkl')
# åŠ è½½æ¨¡å‹
model = joblib.load('model.pkl')
```

### 2. FastAPI å°è£…æ¨ç†æ¥å£
```python
from fastapi import FastAPI
import joblib
import numpy as np

app = FastAPI()
model = joblib.load('model.pkl')

@app.post('/predict')
def predict(features: list):
    X = np.array([features])
    y_pred = model.predict(X)
    return {'result': int(y_pred[0])}
```

### 3. æ”¯æŒå¤šç§è¾“å…¥æ ¼å¼
```python
from pydantic import BaseModel
class PredictRequest(BaseModel):
    features: list

@app.post('/predict')
def predict(req: PredictRequest):
    X = np.array([req.features])
    y_pred = model.predict(X)
    return {'result': int(y_pred[0])}
```

## ğŸ›¡ï¸ æ¨ç†æ¥å£è®¾è®¡å»ºè®®
- è¾“å…¥/è¾“å‡ºç»“æ„åŒ–ï¼ˆJSONï¼‰
- æ˜ç¡®æ¥å£æ–‡æ¡£ï¼ˆOpenAPIï¼‰
- é”™è¯¯å¤„ç†ä¸å¼‚å¸¸è¿”å›
- æ”¯æŒæ‰¹é‡æ¨ç†
- æ—¥å¿—ä¸ç›‘æ§

## ğŸ§ª æµ‹è¯•ä¸è°ƒç”¨
```python
import requests
resp = requests.post('http://localhost:8000/predict', json={'features': [1,2,3,4]})
print(resp.json())
```

## ğŸ“š å­¦ä¹ èµ„æº
- [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [TensorFlow Serving](https://www.tensorflow.org/tfx/guide/serving)
- [TorchServe](https://pytorch.org/serve/)
- [ONNX Runtime](https://onnxruntime.ai/)

## ğŸ” çŸ¥è¯†æ£€æŸ¥
- [ ] ç†è§£æ¨¡å‹æœåŠ¡åŒ–çš„æ„ä¹‰
- [ ] èƒ½å¤Ÿç”¨ FastAPI å°è£…æ¨ç†æ¥å£
- [ ] èƒ½å¤Ÿå¤„ç†è¾“å…¥è¾“å‡ºä¸å¼‚å¸¸
- [ ] èƒ½å¤Ÿæµ‹è¯•å’Œè°ƒç”¨æ¨¡å‹æœåŠ¡

---

**ä¸Šä¸€ç« **ï¼š[ç¬¬ä¸‰ç«  å‰ç«¯å¼€å‘](../chapter3/README.md) | **ä¸‹ä¸€èŠ‚**ï¼š[4.2 å¼‚æ­¥å¤„ç†](4.2-async-processing.md) 